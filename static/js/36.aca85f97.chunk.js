(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[36],{623:function(e,a,t){},703:function(e,a,t){"use strict";t.r(a);var o=t(0),n=t.n(o),l=t(109),s=t(23),i=t.n(s),c=t(551),r=t(7),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},m=t(35),d=function(e,a){return o.createElement(m.a,Object(r.a)(Object(r.a)({},e),{},{ref:a,icon:p}))};var h,u=o.forwardRef(d),E=t(521),f=t(708),w=t(699),k=t(183),g=t(461),v=t(462),b=t(411),N=t(98),y=t(9);t(623);const{latest:C}=y.a.path;class P extends n.a.Component{constructor(e){super(e),this.onDetailClick=e=>{const{detail:a}=this.state;this.setState({detail:!a})},this.onAddUserPoolClick=()=>{const{pairInfo:e,onAddPool:a}=this.props;a&&a(e)},this.onAddPoolClick=()=>{const{pairInfo:{token0:e,token1:a}}=this.props;this.props.history.push("".concat(C.add).concat(Object(N.j)(e,a)))},this.onRemovePoolClick=()=>{const{pairInfo:{token0:e,token1:a}}=this.props;this.props.history.push("".concat(C.remove).concat(Object(N.j)(e,a)))},this.state={detail:!1}}render(){const{detail:e}=this.state,{pairInfo:a,allTokenMap:t,findPool:o}=this.props,{balance:l,token0Deposited:s,token1Deposited:r,token0:p,token1:m,shareOfPoolPercent:d}=a,h=t[p.address]||{},f=t[m.address]||{},g=!!o||e;return n.a.createElement("div",null,n.a.createElement("div",{className:"swap-pool-info-row header ".concat(o?"pool":""),onClick:this.onDetailClick},n.a.createElement("div",{className:"swap-pool-info"},n.a.createElement("div",{className:"swap-pool-info-icon"},h.image?n.a.createElement("img",{src:h.image,alt:""}):n.a.createElement(c.a,null),f.image?n.a.createElement("img",{src:f.image,alt:""}):n.a.createElement(c.a,null)),n.a.createElement("div",{className:"swap-pool-info-symbol"},h.symbol," / ",f.symbol),n.a.createElement("div",{className:"swap-pool-info-copy"},n.a.createElement(w.a.Paragraph,{copyable:{text:a.address}}))),n.a.createElement("div",{className:"swap-pool-info-balance"},n.a.createElement("div",null,l._toSignificant()),o?n.a.createElement(n.a.Fragment,null):n.a.createElement(n.a.Fragment,null,e?n.a.createElement(u,null):n.a.createElement(E.a,null)))),n.a.createElement("div",{className:"swap-pool-info-detail ".concat(g?"":"none")},n.a.createElement("div",{className:"swap-pool-info-row"},n.a.createElement("div",{className:"swap-pool-info"},n.a.createElement("div",null,i.a.get("swap.pooledToken",{token:h.symbol}))),n.a.createElement("div",{className:"swap-pool-info-balance"},n.a.createElement("div",null,s._toSignificant()),n.a.createElement("div",{className:"swap-pool-info-icon right"},h.image?n.a.createElement("img",{src:h.image,alt:""}):n.a.createElement(c.a,null)))),n.a.createElement("div",{className:"swap-pool-info-row"},n.a.createElement("div",{className:"swap-pool-info"},n.a.createElement("div",null,i.a.get("swap.pooledToken",{token:f.symbol}))),n.a.createElement("div",{className:"swap-pool-info-balance"},n.a.createElement("div",null,r._toSignificant()),n.a.createElement("div",{className:"swap-pool-info-icon right"},f.image?n.a.createElement("img",{src:f.image,alt:""}):n.a.createElement(c.a,null)))),n.a.createElement("div",{className:"swap-pool-info-row"},n.a.createElement("div",{className:"swap-pool-info"},n.a.createElement("div",null,i.a.get("swap.shareOfPool"))),n.a.createElement("div",{className:"swap-pool-info-balance"},n.a.createElement("div",null,d))),o?n.a.createElement(n.a.Fragment,null):n.a.createElement("div",{className:"swap-pool-info-btns"},n.a.createElement("div",{className:"swap-pool-info-btn left"},n.a.createElement(k.d,{onClick:this.onAddPoolClick},i.a.get("swap.pool.addButton"))),n.a.createElement("div",{className:"swap-pool-info-btn"},n.a.createElement(k.d,{onClick:this.onRemovePoolClick},i.a.get("swap.pool.removeButton"))))),o?n.a.createElement("div",{className:"swap-pool-block-btn"},n.a.createElement(k.d,{onClick:this.onAddUserPoolClick},i.a.get("swap.pool.importLpButton"))):n.a.createElement(n.a.Fragment,null))}}let I=Object(l.b)("pool")(h=Object(l.c)(h=class extends n.a.Component{constructor(e){var a;super(e),a=this,this.unmount=!1,this.componentDidMount=()=>{this.unmount=!1,this.props.pool.setUrlHash("liquidity"),this.getUserPairs()},this.componentWillUnmount=()=>{this.unmount=!0},this.getUserPairs=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{address:t,allTokenList:o}=a.props.pool;if(e>10)a.setState({liquidityLoaded:!0});else if(t&&o.length){const e=await Object(N.p)(t,o);if(a.unmount)return;a.setState({liquidityLoaded:!0,userPairs:e})}else setTimeout(()=>{a.getUserPairs(++e)},1e3)},this.getUserPairInfo=async()=>{const{address:e}=this.props.pool,{token0Info:a,token1Info:t}=this.state;if(!e)return;if(!a.symbol)return;if(!t.symbol)return;const o=await Object(N.o)(e,a,t);o.balance&&o.balance.eq(0)&&(o.address=""),this.unmount||this.setState({pairInfo:o})},this.openImportCard=()=>{this.setState({importVisible:!0,token1Info:{},pairInfo:{}})},this.closeImportCard=()=>{this.setState({importVisible:!1})},this.onToken0Change=(e,a)=>{this.setState({token0Info:e},()=>{this.getUserPairInfo(),a&&a()})},this.onToken1Change=(e,a)=>{this.setState({token1Info:e},()=>{this.getUserPairInfo(),a&&a()})},this.onAddPoolClick=e=>{Object(N.b)(e.address,e.token0,e.token1),this.setState({liquidityLoaded:!1,importVisible:!1},()=>{this.getUserPairs()})},this.onSupplyClick=()=>{this.props.history.push(C.add)},this.state={liquidityLoaded:!1,importVisible:!1,token0Info:y.a.contract.uniswapV2.defaultPoolTokens.token0,token1Info:{},pairInfo:{},userPairs:{}}}render(){const{liquidityLoaded:e,userPairs:a,importVisible:t,token0Info:o,token1Info:l,pairInfo:s}=this.state,{history:c}=this.props,{allTokenMap:r}=this.props.pool;return n.a.createElement("div",{id:"swap-pool-main"},n.a.createElement(k.i,null,n.a.createElement(b.a,{title:i.a.get("swap.title"),desc:i.a.get("swap.desc"),type:"liquidity"}),n.a.createElement("div",{className:"swap-main-page"},t?n.a.createElement(k.e,null,n.a.createElement("div",{className:"swap-main-card"},n.a.createElement(g.a,{title:i.a.get("swap.pool.importTitle"),desc:i.a.get("swap.pool.importDesc"),closable:!0,onHeaderClose:this.closeImportCard}),n.a.createElement("div",{className:"swap-main-card-body"},n.a.createElement(v.a,{curToken:o,otherToken:l,onTokenChange:this.onToken0Change}),n.a.createElement("div",{className:"swap-main-icon-row"},n.a.createElement("div",null,n.a.createElement(f.a,null))),n.a.createElement(v.a,{curToken:l,otherToken:o,onTokenChange:this.onToken1Change}),n.a.createElement("div",{className:"swap-pool-content"},l.symbol?n.a.createElement(n.a.Fragment,null,s.address?n.a.createElement(P,{pairInfo:s,allTokenMap:r,findPool:!0,onAddPool:this.onAddPoolClick}):n.a.createElement("div",{className:"swap-pool-empty"},i.a.get("swap.pool.importError"))):n.a.createElement("div",{className:"swap-pool-empty"},i.a.get("swap.pool.importSelect")))))):n.a.createElement(k.e,null,n.a.createElement("div",{className:"swap-main-card"},n.a.createElement(g.a,{title:i.a.get("swap.pool.title"),desc:i.a.get("swap.pool.desc")}),n.a.createElement("div",{className:"swap-main-card-body"},e?n.a.createElement("div",{className:"swap-pool-content"},Object.keys(a).length?Object.keys(a).map(e=>n.a.createElement(P,{key:e,pairInfo:a[e],allTokenMap:r,history:c})):n.a.createElement("div",{className:"swap-pool-empty"},i.a.get("swap.pool.noFound"))):n.a.createElement("div",{className:"swap-pool-loading"},n.a.createElement(k.j,null)),n.a.createElement("div",{className:"swap-pool-import-desc"},i.a.get("swap.pool.joinTitle"),n.a.createElement("span",{className:"swap-pool-import-button",onClick:this.openImportCard},i.a.get("swap.pool.joinButton"))),n.a.createElement("div",{className:"swap-pool-block-btn"},n.a.createElement(k.d,{onClick:this.onSupplyClick},i.a.get("swap.pool.addFullButton")))))))))}})||h)||h;a.default=I}}]);